{
	"info": {
		"_postman_id": "25550e31-d796-471a-bf3d-d7a53e6bfa56",
		"name": "SettleX API Collection",
		"description": "Complete Postman collection for SettleX Expense Split API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "27544118"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login with PIN",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('token', jsonData.data.token);",
									"    pm.environment.set('user_id', jsonData.data.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"pin\": \"123456\"}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update PIN",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=groups.list",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "groups.list"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Groups",
			"item": [
				{
					"name": "List All Groups",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=groups.list",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "groups.list"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Single Group",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=groups.get&group_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "groups.get"
								},
								{
									"key": "group_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Group",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\": \"Sydney Trip\", \"currency\": \"AUD\", \"description\": \"Weekend getaway\", \"members\": [1, 2]}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=groups.create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "groups.create"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Group",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"group_id\": 1, \"name\": \"Updated Trip Name\", \"description\": \"Updated description\"}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=groups.update",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "groups.update"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Group",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"group_id\": 1}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=groups.delete",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "groups.delete"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Group Members",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=groups.members.list&group_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "groups.members.list"
								},
								{
									"key": "group_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Expenses",
			"item": [
				{
					"name": "List Expenses",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=expenses.list&group_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "expenses.list"
								},
								{
									"key": "group_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Expense",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"group_id\": 1, \"title\": \"Dinner\", \"amount\": 120, \"payer_id\": {{user_id}}, \"date\": \"2024-01-15\", \"split_type\": \"equal\", \"members\": [1, 2, 3]}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=expenses.create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "expenses.create"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Expense",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=expenses.get&expense_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "expenses.get"
								},
								{
									"key": "expense_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Expense",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"expense_id\": 1, \"title\": \"Updated Dinner\", \"amount\": 150}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=expenses.update",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "expenses.update"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Expense",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"expense_id\": 1}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=expenses.delete",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "expenses.delete"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Get Settlement Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=payments.settlement-details&group_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "payments.settlement-details"
								},
								{
									"key": "group_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark Payment as Paid",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"split_ids\": [1, 2], \"paid_date\": \"2024-01-20\", \"notes\": \"Paid via UPI\"}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=payments.mark-paid",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "payments.mark-paid"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark Multiple Payments as Paid",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"split_ids\": [1, 2, 3, 4], \"paid_date\": \"2024-01-20\"}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=payments.mark-paid-batch",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "payments.mark-paid-batch"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Payment History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=payments.history&group_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "payments.history"
								},
								{
									"key": "group_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get transaction History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=transactions.history&group_id=28&from_date=2025-12-01&to_date=2026-01-15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "transactions.history"
								},
								{
									"key": "group_id",
									"value": "28"
								},
								{
									"key": "from_date",
									"value": "2025-12-01"
								},
								{
									"key": "to_date",
									"value": "2026-01-15"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Dashboard",
			"item": [
				{
					"name": "Get User Dashboard",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=dashboard.index",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "dashboard.index"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Group Dashboard",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/execute?method=dashboard.group&group_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"execute"
							],
							"query": [
								{
									"key": "method",
									"value": "dashboard.group"
								},
								{
									"key": "group_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Device Management",
			"item": [
				{
					"name": "Register FCM Device Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"token\": \"exxxxxxxx:APA91bExxxxx...\"}"
						},
						"url": {
							"raw": "{{base_url}}/api/device-tokens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"device-tokens"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Device Tokens",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/device-tokens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"device-tokens"
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove Device Token",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"token\": \"exxxxxxxx:APA91bExxxxx...\"}"
						},
						"url": {
							"raw": "{{base_url}}/api/device-tokens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"device-tokens"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		}
	]
}